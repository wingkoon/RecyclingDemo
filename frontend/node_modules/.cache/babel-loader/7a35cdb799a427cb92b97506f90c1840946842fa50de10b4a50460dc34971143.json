{"ast":null,"code":"var _jsxFileName = \"/home/labber/lighthouse/recyclingDemo/frontend/src/ProviderService.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { LoginContext } from './LoginContext'; // Assuming LoginContext.js is in the same directory\nimport Navigation from './NavigationBar'; // Import Navigation component\nimport axios from 'axios'; // Import Axios for HTTP requests\nimport { idToTown } from './Convert';\nimport AddServiceModal from './AddServiceModal';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ServiceOfferPage() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    isLoggedIn,\n    userEmail,\n    userType,\n    userProfile\n  } = useContext(LoginContext);\n  const [services, setServices] = useState([]);\n  const [wasteTypes] = useState(['paper', 'steel', 'aluminum', 'laptop', 'computer', 'cell phone', 'screen', 'bed', 'table', 'chair']);\n  const [towns] = useState(['Surrey', 'Burnaby', 'Vancouver', 'Richmond']);\n  const [addedServices, setAddedServices] = useState([]); // Array to track added services (with location_id)\n  const [deletedServices, setDeletedServices] = useState([]); // Array to track deleted services (with location_id)\n  const backendUrl = 'http://localhost:8001'; // Replace with your backend URL\n  const [addServiceModalOpen, setAddServiceModalOpen] = useState(false);\n  const [selectedWasteType, setSelectedWasteType] = useState(''); // State for selected waste type\n  const [selectedLocationId, setSelectedLocationId] = useState(''); // State for selected location ID (location_id from API)\n  const locationOptions = towns.map(town => ({\n    value: townToId(town),\n    // Use the conversion function here\n    label: town\n  }));\n  // Function to convert location_id to town name (replace with your implementation)\n\n  const handleOpenAddServiceModal = () => setAddServiceModalOpen(true);\n  const handleCloseAddServiceModal = () => setAddServiceModalOpen(false);\n  const handleWasteTypeChange = event => {\n    setSelectedWasteType(event.target.value);\n  };\n  const handleLocationChange = event => {\n    setSelectedLocationId(event.target.value);\n  };\n  const handleDeleteService = service => {\n    if (window.confirm('Are you sure you want to delete this service option?')) {\n      setDeletedServices([...deletedServices, service]); // Add to deleted services\n      setServices(services.filter(item => item !== service)); // Remove from displayed list immediately\n    }\n  };\n  const handleAddServiceSubmit = () => {\n    if (!selectedWasteType || !selectedLocationId) {\n      alert('Please select both waste type and location from the dropdowns.');\n      return;\n    }\n    const newService = {\n      waste_type: selectedWasteType,\n      location_id: selectedLocationId\n    };\n  };\n  const handleConfirmChanges = async () => {\n    if (addedServices.length === 0 && deletedServices.length === 0) {\n      alert('No changes to confirm.');\n      return;\n    }\n    const formattedAddedServices = addedServices.map(service => ({\n      waste_type: service.waste_type,\n      location_id: service.location_id\n    }));\n    const formattedDeletedServices = deletedServices.map(service => ({\n      waste_type: service.waste_type,\n      location_id: service.location_id\n    }));\n    const deleteurl = `${backendUrl}/api/provider/service/delete`;\n    const addurl = `${backendUrl}/api/provider/service/add`;\n    // Replace with your actual API calls for deletions and additions\n    const deletePromise = axios.post(deleteurl, {\n      id: userProfile.id,\n      service: formattedDeletedServices\n    });\n    const addPromise = axios.post(addurl, {\n      id: userProfile.id,\n      service: formattedAddedServices\n    });\n    try {\n      const [deleteResult] = await Promise.all([deletePromise, addPromise]);\n      if (deleteResult.data.ok && addPromise.data.ok) {\n        setAddedServices([]);\n        setDeletedServices([]);\n        // Update displayed services if needed (considering backend updates)\n        const updatedServices = await axios.post(`${backendUrl}/api/provider/service`, {\n          id: userProfile.id\n        });\n        setServices(updatedServices.data.map(service => ({\n          ...service,\n          town: idToTown(service.location_id)\n        })));\n        alert('Changes confirmed successfully!');\n      } else {\n        console.error('Error confirming changes:', deleteResult.data, addPromise.data);\n        alert('An error occurred while saving changes. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error during API calls:', error);\n      alert('An error occurred while communicating with the server. Please try again later.');\n    }\n  };\n\n  // Fetch services on initial render and whenever login state changes\n  useEffect(() => {\n    const fetchServices = async () => {\n      if (isLoggedIn) {\n        try {\n          const url = `${backendUrl}/api/provider/service`;\n          const response = await axios.post(url, {\n            id: userProfile.id\n          });\n          const record = response.data;\n          if (Array.isArray(record)) {\n            const servicesWithTownNames = record.map(service => ({\n              ...service,\n              town: idToTown(service.location_id)\n            }));\n            setServices(servicesWithTownNames);\n          } else {\n            // Handle non-array response (e.g., log a message or display an error)\n            console.log('Received unexpected response format:', response.data);\n          }\n        } catch (error) {\n          console.error('Error fetching services:', error);\n          // Handle errors appropriately (e.g., display an error message)\n        }\n      }\n    };\n    fetchServices();\n  }, [isLoggedIn, userProfile]);\n\n  // ... (JSX for rendering the page content)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Service Offerings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }, this), isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        children: services.map(service => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [service.waste_type, \" - \", service.town, \" (\", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteService(service),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this), \")\"]\n        }, `${service.waste_type}-${service.town}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOpenAddServiceModal,\n        children: \"Add Service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), addServiceModalOpen && /*#__PURE__*/_jsxDEV(AddServiceModal, {\n        wasteTypes: wasteTypes // Assuming you have an array of waste types\n        ,\n        towns: locationOptions // Assuming locationOptions contains objects with { value: locationId, label: townName }\n        ,\n        onSubmit: handleAddServiceSubmit,\n        onClose: handleCloseAddServiceModal,\n        selectedWasteType: selectedWasteType,\n        onWasteTypeChange: handleWasteTypeChange,\n        selectedLocationId: selectedLocationId,\n        onLocationChange: handleLocationChange,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Add Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select // Dropdown for waste type\n        , {\n          value: selectedWasteType,\n          onChange: handleWasteTypeChange,\n          options: wasteTypes.map(type => ({\n            value: type,\n            label: type\n          })) // Map wasteTypes to options\n          ,\n          placeholder: \"Select Waste Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select // Dropdown for location\n        , {\n          value: selectedLocationId,\n          onChange: handleLocationChange,\n          options: locationOptions // Use the mapped location options\n          ,\n          placeholder: \"Select Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCloseAddServiceModal,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleConfirmChanges,\n        children: \"Confirm Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"confirmation-message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Please login to view and manage your service offerings.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/provider-login'),\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 3\n  }, this);\n}\n_s(ServiceOfferPage, \"xXkm25sP99LuonJyywJf0ZIXqnU=\", false, function () {\n  return [useNavigate];\n});\n_c = ServiceOfferPage;\nexport default ServiceOfferPage;\nvar _c;\n$RefreshReg$(_c, \"ServiceOfferPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","LoginContext","Navigation","axios","idToTown","AddServiceModal","Select","jsxDEV","_jsxDEV","Fragment","_Fragment","ServiceOfferPage","_s","navigate","isLoggedIn","userEmail","userType","userProfile","services","setServices","wasteTypes","towns","addedServices","setAddedServices","deletedServices","setDeletedServices","backendUrl","addServiceModalOpen","setAddServiceModalOpen","selectedWasteType","setSelectedWasteType","selectedLocationId","setSelectedLocationId","locationOptions","map","town","value","townToId","label","handleOpenAddServiceModal","handleCloseAddServiceModal","handleWasteTypeChange","event","target","handleLocationChange","handleDeleteService","service","window","confirm","filter","item","handleAddServiceSubmit","alert","newService","waste_type","location_id","handleConfirmChanges","length","formattedAddedServices","formattedDeletedServices","deleteurl","addurl","deletePromise","post","id","addPromise","deleteResult","Promise","all","data","ok","updatedServices","console","error","fetchServices","url","response","record","Array","isArray","servicesWithTownNames","log","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","onClose","onWasteTypeChange","onLocationChange","onChange","options","type","placeholder","_c","$RefreshReg$"],"sources":["/home/labber/lighthouse/recyclingDemo/frontend/src/ProviderService.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { LoginContext } from './LoginContext'; // Assuming LoginContext.js is in the same directory\nimport Navigation from './NavigationBar'; // Import Navigation component\nimport axios from 'axios'; // Import Axios for HTTP requests\nimport { idToTown } from './Convert'; \nimport AddServiceModal from './AddServiceModal'; \nimport Select from 'react-select';\n\nfunction ServiceOfferPage() {\n  const navigate = useNavigate();\n  const { isLoggedIn, userEmail, userType, userProfile } = useContext(LoginContext);\n  const [services, setServices] = useState([]);\n  const [wasteTypes] = useState(['paper', 'steel', 'aluminum', 'laptop', 'computer', 'cell phone', 'screen', 'bed', 'table', 'chair']);\n  const [towns] = useState(['Surrey', 'Burnaby', 'Vancouver', 'Richmond']);\n  const [addedServices, setAddedServices] = useState([]); // Array to track added services (with location_id)\n  const [deletedServices, setDeletedServices] = useState([]); // Array to track deleted services (with location_id)\n  const backendUrl = 'http://localhost:8001'; // Replace with your backend URL\n  const [addServiceModalOpen, setAddServiceModalOpen] = useState(false);\n  const [selectedWasteType, setSelectedWasteType] = useState(''); // State for selected waste type\n  const [selectedLocationId, setSelectedLocationId] = useState(''); // State for selected location ID (location_id from API)\n  const locationOptions = towns.map((town) => ({\n    value: townToId(town), // Use the conversion function here\n    label: town,\n  }));\n  // Function to convert location_id to town name (replace with your implementation)\n  \n  const handleOpenAddServiceModal = () => setAddServiceModalOpen(true);\n  const handleCloseAddServiceModal = () => setAddServiceModalOpen(false);\n\n  const handleWasteTypeChange = (event) => {\n    setSelectedWasteType(event.target.value);\n  };\n\n  const handleLocationChange = (event) => {\n    setSelectedLocationId(event.target.value);\n  };\n\n  const handleDeleteService = (service) => {\n    if (window.confirm('Are you sure you want to delete this service option?')) {\n      setDeletedServices([...deletedServices, service]); // Add to deleted services\n      setServices(services.filter((item) => item !== service)); // Remove from displayed list immediately\n    }\n  };\n\n  const handleAddServiceSubmit = () => {\n\n    if (!selectedWasteType || !selectedLocationId) {\n      alert('Please select both waste type and location from the dropdowns.');\n      return;\n    }\n\n    const newService = {\n      waste_type: selectedWasteType,\n      location_id: selectedLocationId,\n    };\n\n  };\n\n  const handleConfirmChanges = async () => {\n    if (addedServices.length === 0 && deletedServices.length === 0) {\n      alert('No changes to confirm.');\n      return;\n    }\n\n    const formattedAddedServices = addedServices.map((service) => ({\n      waste_type: service.waste_type,\n      location_id: service.location_id,\n    }));\n    const formattedDeletedServices = deletedServices.map((service) => ({\n      waste_type: service.waste_type,\n      location_id: service.location_id,\n    }));\n    const deleteurl = `${backendUrl}/api/provider/service/delete`;\n    const addurl = `${backendUrl}/api/provider/service/add`;\n    // Replace with your actual API calls for deletions and additions\n    const deletePromise = axios.post(deleteurl, {id: userProfile.id, service: formattedDeletedServices});\n    const addPromise = axios.post(addurl, {id: userProfile.id, service: formattedAddedServices});\n   \n\n    try {\n      const [deleteResult] = await Promise.all([deletePromise, addPromise]);\n      if (deleteResult.data.ok && addPromise.data.ok) {\n        setAddedServices([]);\n        setDeletedServices([]);\n        // Update displayed services if needed (considering backend updates)\n        const updatedServices = await axios.post(`${backendUrl}/api/provider/service`, { id: userProfile.id });\n        setServices(updatedServices.data.map((service) => ({ ...service, town: idToTown(service.location_id) })));\n        alert('Changes confirmed successfully!');\n      } else {\n        console.error('Error confirming changes:', deleteResult.data, addPromise.data);\n        alert('An error occurred while saving changes. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error during API calls:', error);\n      alert('An error occurred while communicating with the server. Please try again later.');\n    }\n  };\n\n  // Fetch services on initial render and whenever login state changes\n  useEffect(() => {\n    const fetchServices = async () => {\n      if (isLoggedIn) {\n        try {\n          const url = `${backendUrl}/api/provider/service`;\n          const response = await axios.post(url, { id: userProfile.id });\n          const record = response.data;\n\n          if (Array.isArray(record)) {\n            const servicesWithTownNames = record.map((service) => ({\n              ...service,\n              town: idToTown(service.location_id),\n            }));\n            setServices(servicesWithTownNames);\n          } else {\n            // Handle non-array response (e.g., log a message or display an error)\n            console.log('Received unexpected response format:', response.data);\n          }\n        } catch (error) {\n          console.error('Error fetching services:', error);\n          // Handle errors appropriately (e.g., display an error message)\n        }\n      }\n    };\n    fetchServices();\n  }, [isLoggedIn, userProfile]);\n\n  // ... (JSX for rendering the page content)\n\n  \nreturn (\n  <div>\n    <h2>My Service Offerings</h2>\n\n    {/* Conditionally render content based on login status */}\n    {isLoggedIn ? (\n      <>\n        <ul>\n          {services.map((service) => (\n            <li key={`${service.waste_type}-${service.town}`}>\n              {service.waste_type} - {service.town} (\n              <button onClick={() => handleDeleteService(service)}>\n                Delete\n              </button>\n              )\n            </li>\n          ))}\n        </ul>\n\n        <button onClick={handleOpenAddServiceModal}>Add Service</button>\n\n        {addServiceModalOpen && (\n          <AddServiceModal\n            wasteTypes={wasteTypes} // Assuming you have an array of waste types\n            towns={locationOptions} // Assuming locationOptions contains objects with { value: locationId, label: townName }\n            onSubmit={handleAddServiceSubmit}\n            onClose={handleCloseAddServiceModal}\n            selectedWasteType={selectedWasteType}\n            onWasteTypeChange={handleWasteTypeChange}\n            selectedLocationId={selectedLocationId}\n            onLocationChange={handleLocationChange}\n          >\n            {/* Add the SELECT components within AddServiceModal */}\n            <h2>Add Service</h2>\n            <Select // Dropdown for waste type\n              value={selectedWasteType}\n              onChange={handleWasteTypeChange}\n              options={wasteTypes.map((type) => ({ value: type, label: type }))} // Map wasteTypes to options\n              placeholder=\"Select Waste Type\"\n            />\n            <Select // Dropdown for location\n              value={selectedLocationId}\n              onChange={handleLocationChange}\n              options={locationOptions} // Use the mapped location options\n              placeholder=\"Select Location\"\n            />\n\n\n\n            <button type=\"submit\">Submit</button>\n            <button type=\"button\" onClick={handleCloseAddServiceModal}>\n              Cancel\n            </button>\n          </AddServiceModal>\n        )}\n\n        <button onClick={handleConfirmChanges}>Confirm Changes</button>\n        <div id=\"confirmation-message\"></div>\n      </>\n    ) : (\n      <p>\n        Please login to view and manage your service offerings.\n        <br />\n        <button onClick={() => navigate('/provider-login')}>Login</button>\n      </p>\n    )}\n  </div>\n);\n}\n\nexport default ServiceOfferPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}